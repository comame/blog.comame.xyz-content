## やりたかったこと

自宅のネットワークに対して外部から直接アクセスするのが難しい (ポート開放できないとか) ときに、VPS 等を経由すればよいのではないかというアイデア。SoftEther のカスケード接続を使ってみる。

## 手順

### VPS

チャージ残高が余っていたので、ConoHa で Ubuntu 22.04 のサーバを作成した。

SoftEther VPN Server をインストールする。ローカルブリッジの設定で TAP デバイスを作成する。作成した TAP デバイスに対して、自宅ネットワークと同じセグメントの重複しない IP アドレスを割り当てる。

### 自宅

SoftEther VPN Bridge をインストールする。VPS に構築した仮想ハブに対してカスケード接続する。必要なインターフェースにローカルブリッジを設定する。

### 動作確認

VPS から、自宅ネットワーク内にあるホストに対して ping を投げてみる。あとは適当に NAT を設定すればよい。

## 考えていること

今回は SoftEther を使用したが、これは要するに拠点間接続なので、他の VPN を使っても同様のことができるのではないだろうかと思っている。
